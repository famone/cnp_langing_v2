<template>
	<div class="myheader" :class="{transp: this.$route.path === '/'}">
		<div class="container-fluid">
            <div class="shapka">
            	<router-link to="/" tag="a" class="header__logo wow">
	            	<img src="https://nikitapugachev.ru/wp-content/themes/np/assets/img/Logo.svg">
	            </router-link>

	            <div class="log-row">
	            	<router-link to="/course" tag="button" class="shapka-btn" v-if="!user">
	            		Ð’Ð¾Ð¹Ñ‚Ð¸
	            	</router-link>
	            	<p class="white-txt" v-if="user !== null">ÐŸÑ€Ð¸Ð²ÐµÑ‚, {{ user.user_display_name }}</p>
	            	<router-link to="/course" tag="button" class="shapka-btn" v-if="user !== null">
	            		ðŸ”¥ Ð›Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚
	            	</router-link>
	            	<button class="shapka-btn logout" 
	            	v-if="user !== null"
	            	@click="logout">
	            		Ð’Ñ‹Ð¹Ñ‚Ð¸
	            	</button>
	            </div>
	            
            </div>
        </div>
     </div>
</template>	


<script>
import {mapGetters, mapActions} from 'vuex'
	export default{
		computed: {
			...mapGetters({ user: "smeta/getUser" }),
		},
		methods: {
    		...mapActions({
      			singOut: "smeta/SIGN_OUT",
    		}),

	    	logout() {
	      		this.singOut().then(() => {
	        		this.$router.replace("/login");
	      		});
	    	}
  		},
	}
</script>


